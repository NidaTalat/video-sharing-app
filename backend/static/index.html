<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TikTok Clone</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    if (!localStorage.getItem("token")) {
      window.location.href = "login.html";
    }
    </script>
  </head>
  <body>
    <!-- HEADER  -->
    <div class="header">
      <div class="align-element">
        <!-- LOGO  -->
        <a href="#" class="logo">
          <!-- <span><i class="bx bxl-tiktok"></i></span> -->
          <h4>PEACH</h4><h4 class="logo2">ERS</h4>
        </a>
        <!-- SMART ICONS  -->
        <div class="smart-icons">
          <button class="upload-btn" id="uploader-button">
            <i class="bx bx-plus"></i>
            Upload
            <input type="file" name="video-uploader" id="video-uploader" hidden>
          </button>
        </div>
        <!-- SEARCH INPUT  -->
        <div class="search-input">
          <div class="input-box">
            <input type="text" placeholder="Search" />
            <button><i class="bx bx-search"></i></button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- VIDEOS  -->
    <div class="videos">
      <div class="align-element">
        <!-- VIDEO 1 -->
        <div class="video" id="mainVideoDiv1">
          <div class="video-box">
            <div class="video-info">
              <div class="video-section">
                <video
                  id="video1"
                  class="videoPlayer"
                  loop
                ></video>
                <span class="video-play-icon"><i class="bx bx-play"></i></span>
              </div>
              <div class="user-info">
                <h5>novakhd</h5>
                <p>Ronaldo ðŸ’€ðŸ”¥ #ronaldo #fyp #edit #football</p>
              </div>
            </div>
            <div class="video-desc">
              <div class="user-profile">
                <img src="img/user-5.jpeg" alt="" />
                <span class="follow">
                  <i class="bx bx-plus"></i>
                </span>
              </div>
              <ul>
                <li>
                  <span class="like"><i class="bx bxs-heart"></i></span>
                  <span>7.9M</span>
                </li>
                <li>
                  <button 
                    onclick="openCommentPopup()"
                  >
                  <span><i class="bx bxs-message-rounded-dots"></i></span>
                  </button>
                  <div id="comment-popup" class="fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center hidden">
                    <div class="bg-gray-800 rounded-lg p-6 w-11/12 max-w-lg">
                      <div class="flex justify-between items-center mb-4">
                        <h2 class="text-lg font-bold text-white">Add a Comment</h2>
                        <button 
                          class="text-red-500 text-xl font-bold"
                          onclick="closeCommentPopup()"
                        >
                          &times;
                        </button>
                      </div>
                
                      <!-- Comment Input -->
                      <textarea 
                        id="comment-input"
                        placeholder="Write your comment here..." 
                        class="w-full h-24 p-2 rounded bg-gray-700 text-white mb-4"
                      ></textarea>
                
                      <!-- Submit Button -->
                      <div class="flex justify-end">
                        <button 
                          class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded"
                          onclick="addComment('asfnaksjfna12qwfqbu')"
                        >
                          Post Comment
                        </button>
                      </div>
                    </div>
                  </div>         
                  <span>80k</span>
                </li>
                <li>
                  <span><i class="bx bxs-bookmark"></i></span>
                  <span>999.5k</span>
                </li>
                <li>
                  <span><i class="bx bxs-share bx-flip-horizontal"></i></span>
                  <span>500.5k</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <!-- VIDEO 2 -->
        <div class="video" id="mainVideoDiv2">
          <div class="video-box">
            <div class="video-info">
              <div class="video-section">
                <video
                  id="video2"
                  class="videoPlayer"
                  loop
                ></video>
                <span class="video-play-icon"><i class="bx bx-play"></i></span>
              </div>
              <div class="user-info">
                <h5>printstored</h5>
                <p>Why would he do this ðŸ˜” // #christyson #mrbeast #old</p>
              </div>
            </div>
            <div class="video-desc">
              <div class="user-profile">
                <img src="img/user-6.jpeg" alt="" />
                <span class="follow">
                  <i class="bx bx-plus"></i>
                </span>
              </div>
              <ul>
                <li>
                  <span class="like"><i class="bx bxs-heart"></i></span>
                  <span>83k</span>
                </li>
                <li>
                  <span><i class="bx bxs-message-rounded-dots"></i></span>
                  <span>1597</span>
                </li>
                <li>
                  <span><i class="bx bxs-bookmark"></i></span>
                  <span>34k</span>
                </li>
                <li>
                  <span><i class="bx bxs-share bx-flip-horizontal"></i></span>
                  <span>35k</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <!-- VIDEO 3 -->
        <div class="video" id="mainVideoDiv3">
          <div class="video-box">
            <div class="video-info">
              <div class="video-section">
                <video
                  id="video3"
                  class="videoPlayer"
                  loop
                ></video>
                <span class="video-play-icon"><i class="bx bx-play"></i></span>
              </div>
              <div class="user-info">
                <h5>mrbeast</h5>
                <p>
                  This was a struggle lol ðŸ˜… sprinting with more and more money
                </p>
              </div>
            </div>
            <div class="video-desc">
              <div class="user-profile">
                <img src="img/user-7.jpeg" alt="" />
                <span class="follow">
                  <i class="bx bx-plus"></i>
                </span>
              </div>
              <ul>
                <li>
                  <span class="like"><i class="bx bxs-heart"></i></span>
                  <span>3.7M</span>
                </li>
                <li>
                  <span><i class="bx bxs-message-rounded-dots"></i></span>
                  <span>64.3k</span>
                </li>
                <li>
                  <span><i class="bx bxs-bookmark"></i></span>
                  <span>88.7k</span>
                </li>
                <li>
                  <span><i class="bx bxs-share bx-flip-horizontal"></i></span>
                  <span>175.4k</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <!-- VIDEO 4 -->
        <div class="video"  id="mainVideoDiv4">
          <div class="video-box">
            <div class="video-info">
              <div class="video-section">
                <video
                  id="video4"
                  class="videoPlayer"
                  loop
                ></video>
                <span class="video-play-icon"><i class="bx bx-play"></i></span>
              </div>
              <div class="user-info">
                <h5>aep.rexx</h5>
                <p>
                  parado no bailÃ£o #neymar #edit #neymaredit #fyp @nitineditssz
                  @heatforchip @rexxx.vsp @akamarch @vspdinorex @ohio_vsp
                  @vspdinorex @mehza.aep
                </p>
              </div>
            </div>
            <div class="video-desc">
              <div class="user-profile">
                <img src="img/user-8.jpeg" alt="" />
                <span class="follow">
                  <i class="bx bx-plus"></i>
                </span>
              </div>
              <ul>
                <li>
                  <span class="like"><i class="bx bxs-heart"></i></span>
                  <span>4M</span>
                </li>
                <li>
                  <span><i class="bx bxs-message-rounded-dots"></i></span>
                  <span>70k</span>
                </li>
                <li>
                  <span><i class="bx bxs-bookmark"></i></span>
                  <span>680k</span>
                </li>
                <li>
                  <span><i class="bx bxs-share bx-flip-horizontal"></i></span>
                  <span>1M</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <!-- VIDEO 5 -->
        <div class="video"  id="mainVideoDiv5">
          <div class="video-box">
            <div class="video-info">
              <div class="video-section">
                <video
                  id="video5"
                  class="videoPlayer"
                  loop
                ></video>
                <span class="video-play-icon"><i class="bx bx-play"></i></span>
              </div>
              <div class="user-info">
                <h5>6markedits6</h5>
                <p>Messi 2015 ðŸ•º #messiedits #messi #leomessi #football</p>
              </div>
            </div>
            <div class="video-desc">
              <div class="user-profile">
                <img src="img/user-9.jpeg" alt="" />
                <span class="follow">
                  <i class="bx bx-plus"></i>
                </span>
              </div>
              <ul>
                <li>
                  <span class="like"><i class="bx bxs-heart"></i></span>
                  <span>5.7M</span>
                </li>
                <li>
                  <span><i class="bx bxs-message-rounded-dots"></i></span>
                  <span>33.7k</span>
                </li>
                <li>
                  <span><i class="bx bxs-bookmark"></i></span>
                  <span>888.7k</span>
                </li>
                <li>
                  <span><i class="bx bxs-share bx-flip-horizontal"></i></span>
                  <span>900.4k</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- SIDEBAR  -->
    <div class="sidebar">
      <!-- FOR YOU  -->
      <ul>
        <li class="active">
          <span><i class="bx bxs-home"></i></span>
          <span>For You</span>
        </li>
        <li>
          <span><i class="bx bx-trending-up"></i></span>
          <span class="new">Explore <span>New</span></span>
        </li>
        <li>
          <span><i class="bx bx-user-plus"></i></span>
          <span>Following</span>
        </li>
        <li>
          <span><i class="bx bx-group"></i></span>
          <span>Friends</span>
        </li>
        <li>
          <span><i class="bx bx-video-plus"></i></span>
          <span>Live</span>
        </li>
        <li>
          <img src="img/profile.webp" class="channel-img" alt="" />
          <span>Profile</span>
        </li>
        <li>
          <span><i class="bx bx-trending-up"></i></span>
          <span id="logout">Logout</span>
        </li>
      </ul>
      <!-- INFORMATION  -->
      <ul class="information">
        <li>
          <span>Create RIZVID effects and get a reward</span>
        </li>
        <li>
          <a href="#">Company</a>
        </li>
        <li>
          <a href="#">Program</a>
        </li>
        <li>
          <a href="#">Term & Policies</a>
        </li>
        <p>&copy; 2024 PEACHERS</p>
      </ul>
    </div>
    <!-- SCRIPT LINK  -->
    <script src="app.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const uploadButton = document.getElementById("uploader-button");
        const userRole = localStorage.getItem("role");

        if (uploadButton) {
            if (userRole === "admin" || userRole === "creator") {
                // Show the upload button for admin or creator
                uploadButton.classList.remove("hidden");
            } else {
                // Hide the upload button for consumers (default behavior)
                uploadButton.classList.add("hidden");
            }
        }
      });
      const logout = document.getElementById("logout")
      logout.addEventListener("click", () => {
        localStorage.removeItem('role')
        localStorage.removeItem('token')
        if (!localStorage.getItem("token")) {
          window.location.href = "login.html";
        }
      })
    </script>
  </body>
</html>
